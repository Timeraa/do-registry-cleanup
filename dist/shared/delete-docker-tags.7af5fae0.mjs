import{execSync as Tt}from"node:child_process";var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function yt(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var n=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return r[s]}})}),t}var Ee={exports:{}};const bt="2.0.0",xe=256,Pt=Number.MAX_SAFE_INTEGER||9007199254740991,Ct=16,jt=xe-6,Dt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ee={MAX_LENGTH:xe,MAX_SAFE_COMPONENT_LENGTH:Ct,MAX_SAFE_BUILD_LENGTH:jt,MAX_SAFE_INTEGER:Pt,RELEASE_TYPES:Dt,SEMVER_SPEC_VERSION:bt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const _t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var te=_t;(function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:n}=ee,o=te;e=r.exports={};const c=e.re=[],u=e.safeRe=[],i=e.src=[],a=e.t={};let l=0;const E="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",n],[E,s]],h=w=>{for(const[P,D]of m)w=w.split(`${P}*`).join(`${P}{0,${D}}`).split(`${P}+`).join(`${P}{1,${D}}`);return w},p=(w,P,D)=>{const U=h(P),O=l++;o(w,O,P),a[w]=O,i[O]=P,c[O]=new RegExp(P,D?"g":void 0),u[O]=new RegExp(U,D?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),p("MAINVERSION",`(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${i[a.NUMERICIDENTIFIER]}|${i[a.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${i[a.NUMERICIDENTIFIERLOOSE]}|${i[a.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${i[a.PRERELEASEIDENTIFIER]}(?:\\.${i[a.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${i[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[a.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${E}+`),p("BUILD",`(?:\\+(${i[a.BUILDIDENTIFIER]}(?:\\.${i[a.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${i[a.MAINVERSION]}${i[a.PRERELEASE]}?${i[a.BUILD]}?`),p("FULL",`^${i[a.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${i[a.MAINVERSIONLOOSE]}${i[a.PRERELEASELOOSE]}?${i[a.BUILD]}?`),p("LOOSE",`^${i[a.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${i[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${i[a.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:${i[a.PRERELEASE]})?${i[a.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:${i[a.PRERELEASELOOSE]})?${i[a.BUILD]}?)?)?`),p("XRANGE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),p("COERCE",`${i[a.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",i[a.COERCEPLAIN]+`(?:${i[a.PRERELEASE]})?(?:${i[a.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",i[a.COERCE],!0),p("COERCERTLFULL",i[a.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${i[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${i[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${i[a.LONECARET]}${i[a.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${i[a.LONECARET]}${i[a.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${i[a.GTLT]}\\s*(${i[a.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]}|${i[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${i[a.XRANGEPLAIN]})\\s+-\\s+(${i[a.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${i[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[a.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ee,Ee.exports);var J=Ee.exports;const xt=Object.freeze({loose:!0}),Gt=Object.freeze({}),Ft=r=>r?typeof r!="object"?xt:r:Gt;var $e=Ft;const Ge=/^[0-9]+$/,Fe=(r,e)=>{const t=Ge.test(r),s=Ge.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},Ut=(r,e)=>Fe(e,r);var Ue={compareIdentifiers:Fe,rcompareIdentifiers:Ut};const re=te,{MAX_LENGTH:Xe,MAX_SAFE_INTEGER:se}=ee,{safeRe:Ve,t:Me}=J,Xt=$e,{compareIdentifiers:Y}=Ue;let Vt=class H{constructor(e,t){if(t=Xt(t),e instanceof H){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Xe)throw new TypeError(`version is longer than ${Xe} characters`);re("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?Ve[Me.LOOSE]:Ve[Me.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>se||this.major<0)throw new TypeError("Invalid major version");if(this.minor>se||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>se||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){const o=+n;if(o>=0&&o<se)return o}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(re("SemVer.compare",this.version,this.options,e),!(e instanceof H)){if(typeof e=="string"&&e===this.version)return 0;e=new H(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof H||(e=new H(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)}comparePre(e){if(e instanceof H||(e=new H(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],n=e.prerelease[t];if(re("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return Y(s,n)}while(++t)}compareBuild(e){e instanceof H||(e=new H(e,this.options));let t=0;do{const s=this.build[t],n=e.build[t];if(re("build compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return Y(s,n)}while(++t)}inc(e,t,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const n=Number(s)?1:0;if(!t&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(t){let o=[t,n];s===!1&&(o=[t]),Y(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var _=Vt;const ke=_,Mt=(r,e,t=!1)=>{if(r instanceof ke)return r;try{return new ke(r,e)}catch(s){if(!t)return null;throw s}};var z=Mt;const kt=z,Ht=(r,e)=>{const t=kt(r,e);return t?t.version:null};var Bt=Ht;const Wt=z,qt=(r,e)=>{const t=Wt(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};var Yt=qt;const He=_,zt=(r,e,t,s,n)=>{typeof t=="string"&&(n=s,s=t,t=void 0);try{return new He(r instanceof He?r.version:r,t).inc(e,s,n).version}catch{return null}};var Zt=zt;const Be=z,Jt=(r,e)=>{const t=Be(r,null,!0),s=Be(e,null,!0),n=t.compare(s);if(n===0)return null;const o=n>0,c=o?t:s,u=o?s:t,i=!!c.prerelease.length;if(!!u.prerelease.length&&!i)return!u.patch&&!u.minor?"major":c.patch?"patch":c.minor?"minor":"major";const l=i?"pre":"";return t.major!==s.major?l+"major":t.minor!==s.minor?l+"minor":t.patch!==s.patch?l+"patch":"prerelease"};var Kt=Jt;const Qt=_,er=(r,e)=>new Qt(r,e).major;var tr=er;const rr=_,sr=(r,e)=>new rr(r,e).minor;var nr=sr;const ir=_,ar=(r,e)=>new ir(r,e).patch;var or=ar;const cr=z,lr=(r,e)=>{const t=cr(r,e);return t&&t.prerelease.length?t.prerelease:null};var ur=lr;const We=_,hr=(r,e,t)=>new We(r,t).compare(new We(e,t));var V=hr;const fr=V,pr=(r,e,t)=>fr(e,r,t);var Er=pr;const $r=V,mr=(r,e)=>$r(r,e,!0);var dr=mr;const qe=_,gr=(r,e,t)=>{const s=new qe(r,t),n=new qe(e,t);return s.compare(n)||s.compareBuild(n)};var me=gr;const Rr=me,vr=(r,e)=>r.sort((t,s)=>Rr(t,s,e));var Ir=vr;const Or=me,Lr=(r,e)=>r.sort((t,s)=>Or(s,t,e));var Sr=Lr;const Nr=V,Ar=(r,e,t)=>Nr(r,e,t)>0;var ne=Ar;const Tr=V,wr=(r,e,t)=>Tr(r,e,t)<0;var de=wr;const yr=V,br=(r,e,t)=>yr(r,e,t)===0;var Ye=br;const Pr=V,Cr=(r,e,t)=>Pr(r,e,t)!==0;var ze=Cr;const jr=V,Dr=(r,e,t)=>jr(r,e,t)>=0;var ge=Dr;const _r=V,xr=(r,e,t)=>_r(r,e,t)<=0;var Re=xr;const Gr=Ye,Fr=ze,Ur=ne,Xr=ge,Vr=de,Mr=Re,kr=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Gr(r,t,s);case"!=":return Fr(r,t,s);case">":return Ur(r,t,s);case">=":return Xr(r,t,s);case"<":return Vr(r,t,s);case"<=":return Mr(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var Ze=kr;const Hr=_,Br=z,{safeRe:ie,t:ae}=J,Wr=(r,e)=>{if(r instanceof Hr)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?ie[ae.COERCEFULL]:ie[ae.COERCE]);else{const i=e.includePrerelease?ie[ae.COERCERTLFULL]:ie[ae.COERCERTL];let a;for(;(a=i.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||a.index+a[0].length!==t.index+t[0].length)&&(t=a),i.lastIndex=a.index+a[1].length+a[2].length;i.lastIndex=-1}if(t===null)return null;const s=t[2],n=t[3]||"0",o=t[4]||"0",c=e.includePrerelease&&t[5]?`-${t[5]}`:"",u=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Br(`${s}.${n}.${o}${c}${u}`,e)};var qr=Wr,ve,Je;function Yr(){if(Je)return ve;Je=1;class r{constructor(){this.max=1e3,this.map=new Map}get(t){const s=this.map.get(t);if(s!==void 0)return this.map.delete(t),this.map.set(t,s),s}delete(t){return this.map.delete(t)}set(t,s){if(!this.delete(t)&&s!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(t,s)}return this}}return ve=r,ve}var Ie,Ke;function M(){if(Ke)return Ie;Ke=1;const r=/\s+/g;class e{constructor(f,R){if(R=n(R),f instanceof e)return f.loose===!!R.loose&&f.includePrerelease===!!R.includePrerelease?f:new e(f.raw,R);if(f instanceof o)return this.raw=f.value,this.set=[[f]],this.formatted=void 0,this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=f.trim().replace(r," "),this.set=this.raw.split("||").map(d=>this.parseRange(d.trim())).filter(d=>d.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const d=this.set[0];if(this.set=this.set.filter(v=>!w(v[0])),this.set.length===0)this.set=[d];else if(this.set.length>1){for(const v of this.set)if(v.length===1&&P(v[0])){this.set=[v];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let f=0;f<this.set.length;f++){f>0&&(this.formatted+="||");const R=this.set[f];for(let d=0;d<R.length;d++)d>0&&(this.formatted+=" "),this.formatted+=R[d].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(f){const d=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+f,v=s.get(d);if(v)return v;const g=this.options.loose,I=g?i[a.HYPHENRANGELOOSE]:i[a.HYPHENRANGE];f=f.replace(I,he(this.options.includePrerelease)),c("hyphen replace",f),f=f.replace(i[a.COMPARATORTRIM],l),c("comparator trim",f),f=f.replace(i[a.TILDETRIM],E),c("tilde trim",f),f=f.replace(i[a.CARETTRIM],m),c("caret trim",f);let T=f.split(" ").map(C=>U(C,this.options)).join(" ").split(/\s+/).map(C=>X(C,this.options));g&&(T=T.filter(C=>(c("loose invalid filter",C,this.options),!!C.match(i[a.COMPARATORLOOSE])))),c("range list",T);const L=new Map,y=T.map(C=>new o(C,this.options));for(const C of y){if(w(C))return[C];L.set(C.value,C)}L.size>1&&L.has("")&&L.delete("");const G=[...L.values()];return s.set(d,G),G}intersects(f,R){if(!(f instanceof e))throw new TypeError("a Range is required");return this.set.some(d=>D(d,R)&&f.set.some(v=>D(v,R)&&d.every(g=>v.every(I=>g.intersects(I,R)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new u(f,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(fe(this.set[R],f,this.options))return!0;return!1}}Ie=e;const t=Yr(),s=new t,n=$e,o=oe(),c=te,u=_,{safeRe:i,t:a,comparatorTrimReplace:l,tildeTrimReplace:E,caretTrimReplace:m}=J,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=ee,w=$=>$.value==="<0.0.0-0",P=$=>$.value==="",D=($,f)=>{let R=!0;const d=$.slice();let v=d.pop();for(;R&&d.length;)R=d.every(g=>v.intersects(g,f)),v=d.pop();return R},U=($,f)=>(c("comp",$,f),$=j($,f),c("caret",$),$=b($,f),c("tildes",$),$=S($,f),c("xrange",$),$=B($,f),c("stars",$),$),O=$=>!$||$.toLowerCase()==="x"||$==="*",b=($,f)=>$.trim().split(/\s+/).map(R=>x(R,f)).join(" "),x=($,f)=>{const R=f.loose?i[a.TILDELOOSE]:i[a.TILDE];return $.replace(R,(d,v,g,I,T)=>{c("tilde",$,d,v,g,I,T);let L;return O(v)?L="":O(g)?L=`>=${v}.0.0 <${+v+1}.0.0-0`:O(I)?L=`>=${v}.${g}.0 <${v}.${+g+1}.0-0`:T?(c("replaceTilde pr",T),L=`>=${v}.${g}.${I}-${T} <${v}.${+g+1}.0-0`):L=`>=${v}.${g}.${I} <${v}.${+g+1}.0-0`,c("tilde return",L),L})},j=($,f)=>$.trim().split(/\s+/).map(R=>N(R,f)).join(" "),N=($,f)=>{c("caret",$,f);const R=f.loose?i[a.CARETLOOSE]:i[a.CARET],d=f.includePrerelease?"-0":"";return $.replace(R,(v,g,I,T,L)=>{c("caret",$,v,g,I,T,L);let y;return O(g)?y="":O(I)?y=`>=${g}.0.0${d} <${+g+1}.0.0-0`:O(T)?g==="0"?y=`>=${g}.${I}.0${d} <${g}.${+I+1}.0-0`:y=`>=${g}.${I}.0${d} <${+g+1}.0.0-0`:L?(c("replaceCaret pr",L),g==="0"?I==="0"?y=`>=${g}.${I}.${T}-${L} <${g}.${I}.${+T+1}-0`:y=`>=${g}.${I}.${T}-${L} <${g}.${+I+1}.0-0`:y=`>=${g}.${I}.${T}-${L} <${+g+1}.0.0-0`):(c("no pr"),g==="0"?I==="0"?y=`>=${g}.${I}.${T}${d} <${g}.${I}.${+T+1}-0`:y=`>=${g}.${I}.${T}${d} <${g}.${+I+1}.0-0`:y=`>=${g}.${I}.${T} <${+g+1}.0.0-0`),c("caret return",y),y})},S=($,f)=>(c("replaceXRanges",$,f),$.split(/\s+/).map(R=>A(R,f)).join(" ")),A=($,f)=>{$=$.trim();const R=f.loose?i[a.XRANGELOOSE]:i[a.XRANGE];return $.replace(R,(d,v,g,I,T,L)=>{c("xRange",$,d,v,g,I,T,L);const y=O(g),G=y||O(I),C=G||O(T),Z=C;return v==="="&&Z&&(v=""),L=f.includePrerelease?"-0":"",y?v===">"||v==="<"?d="<0.0.0-0":d="*":v&&Z?(G&&(I=0),T=0,v===">"?(v=">=",G?(g=+g+1,I=0,T=0):(I=+I+1,T=0)):v==="<="&&(v="<",G?g=+g+1:I=+I+1),v==="<"&&(L="-0"),d=`${v+g}.${I}.${T}${L}`):G?d=`>=${g}.0.0${L} <${+g+1}.0.0-0`:C&&(d=`>=${g}.${I}.0${L} <${g}.${+I+1}.0-0`),c("xRange return",d),d})},B=($,f)=>(c("replaceStars",$,f),$.trim().replace(i[a.STAR],"")),X=($,f)=>(c("replaceGTE0",$,f),$.trim().replace(i[f.includePrerelease?a.GTE0PRE:a.GTE0],"")),he=$=>(f,R,d,v,g,I,T,L,y,G,C,Z)=>(O(d)?R="":O(v)?R=`>=${d}.0.0${$?"-0":""}`:O(g)?R=`>=${d}.${v}.0${$?"-0":""}`:I?R=`>=${R}`:R=`>=${R}${$?"-0":""}`,O(y)?L="":O(G)?L=`<${+y+1}.0.0-0`:O(C)?L=`<${y}.${+G+1}.0-0`:Z?L=`<=${y}.${G}.${C}-${Z}`:$?L=`<${y}.${G}.${+C+1}-0`:L=`<=${L}`,`${R} ${L}`.trim()),fe=($,f,R)=>{for(let d=0;d<$.length;d++)if(!$[d].test(f))return!1;if(f.prerelease.length&&!R.includePrerelease){for(let d=0;d<$.length;d++)if(c($[d].semver),$[d].semver!==o.ANY&&$[d].semver.prerelease.length>0){const v=$[d].semver;if(v.major===f.major&&v.minor===f.minor&&v.patch===f.patch)return!0}return!1}return!0};return Ie}var Oe,Qe;function oe(){if(Qe)return Oe;Qe=1;const r=Symbol("SemVer ANY");class e{static get ANY(){return r}constructor(l,E){if(E=t(E),l instanceof e){if(l.loose===!!E.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),c("comparator",l,E),this.options=E,this.loose=!!E.loose,this.parse(l),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(l){const E=this.options.loose?s[n.COMPARATORLOOSE]:s[n.COMPARATOR],m=l.match(E);if(!m)throw new TypeError(`Invalid comparator: ${l}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new u(m[2],this.options.loose):this.semver=r}toString(){return this.value}test(l){if(c("Comparator.test",l,this.options.loose),this.semver===r||l===r)return!0;if(typeof l=="string")try{l=new u(l,this.options)}catch{return!1}return o(l,this.operator,this.semver,this.options)}intersects(l,E){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new i(l.value,E).test(this.value):l.operator===""?l.value===""?!0:new i(this.value,E).test(l.semver):(E=t(E),E.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!E.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||o(this.semver,"<",l.semver,E)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||o(this.semver,">",l.semver,E)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Oe=e;const t=$e,{safeRe:s,t:n}=J,o=Ze,c=te,u=_,i=M();return Oe}const zr=M(),Zr=(r,e,t)=>{try{e=new zr(e,t)}catch{return!1}return e.test(r)};var ce=Zr;const Jr=M(),Kr=(r,e)=>new Jr(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));var Qr=Kr;const es=_,ts=M(),rs=(r,e,t)=>{let s=null,n=null,o=null;try{o=new ts(e,t)}catch{return null}return r.forEach(c=>{o.test(c)&&(!s||n.compare(c)===-1)&&(s=c,n=new es(s,t))}),s};var ss=rs;const ns=_,is=M(),as=(r,e,t)=>{let s=null,n=null,o=null;try{o=new is(e,t)}catch{return null}return r.forEach(c=>{o.test(c)&&(!s||n.compare(c)===1)&&(s=c,n=new ns(s,t))}),s};var os=as;const Le=_,cs=M(),et=ne,ls=(r,e)=>{r=new cs(r,e);let t=new Le("0.0.0");if(r.test(t)||(t=new Le("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){const n=r.set[s];let o=null;n.forEach(c=>{const u=new Le(c.semver.version);switch(c.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||et(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),o&&(!t||et(t,o))&&(t=o)}return t&&r.test(t)?t:null};var us=ls;const hs=M(),fs=(r,e)=>{try{return new hs(r,e).range||"*"}catch{return null}};var ps=fs;const Es=_,tt=oe(),{ANY:$s}=tt,ms=M(),ds=ce,rt=ne,st=de,gs=Re,Rs=ge,vs=(r,e,t,s)=>{r=new Es(r,s),e=new ms(e,s);let n,o,c,u,i;switch(t){case">":n=rt,o=gs,c=st,u=">",i=">=";break;case"<":n=st,o=Rs,c=rt,u="<",i="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ds(r,e,s))return!1;for(let a=0;a<e.set.length;++a){const l=e.set[a];let E=null,m=null;if(l.forEach(h=>{h.semver===$s&&(h=new tt(">=0.0.0")),E=E||h,m=m||h,n(h.semver,E.semver,s)?E=h:c(h.semver,m.semver,s)&&(m=h)}),E.operator===u||E.operator===i||(!m.operator||m.operator===u)&&o(r,m.semver))return!1;if(m.operator===i&&c(r,m.semver))return!1}return!0};var Se=vs;const Is=Se,Os=(r,e,t)=>Is(r,e,">",t);var Ls=Os;const Ss=Se,Ns=(r,e,t)=>Ss(r,e,"<",t);var As=Ns;const nt=M(),Ts=(r,e,t)=>(r=new nt(r,t),e=new nt(e,t),r.intersects(e,t));var ws=Ts;const ys=ce,bs=V;var Ps=(r,e,t)=>{const s=[];let n=null,o=null;const c=r.sort((l,E)=>bs(l,E,t));for(const l of c)ys(l,e,t)?(o=l,n||(n=l)):(o&&s.push([n,o]),o=null,n=null);n&&s.push([n,null]);const u=[];for(const[l,E]of s)l===E?u.push(l):!E&&l===c[0]?u.push("*"):E?l===c[0]?u.push(`<=${E}`):u.push(`${l} - ${E}`):u.push(`>=${l}`);const i=u.join(" || "),a=typeof e.raw=="string"?e.raw:String(e);return i.length<a.length?i:e};const it=M(),Ne=oe(),{ANY:Ae}=Ne,K=ce,Te=V,Cs=(r,e,t={})=>{if(r===e)return!0;r=new it(r,t),e=new it(e,t);let s=!1;e:for(const n of r.set){for(const o of e.set){const c=Ds(n,o,t);if(s=s||c!==null,c)continue e}if(s)return!1}return!0},js=[new Ne(">=0.0.0-0")],at=[new Ne(">=0.0.0")],Ds=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Ae){if(e.length===1&&e[0].semver===Ae)return!0;t.includePrerelease?r=js:r=at}if(e.length===1&&e[0].semver===Ae){if(t.includePrerelease)return!0;e=at}const s=new Set;let n,o;for(const h of r)h.operator===">"||h.operator===">="?n=ot(n,h,t):h.operator==="<"||h.operator==="<="?o=ct(o,h,t):s.add(h.semver);if(s.size>1)return null;let c;if(n&&o){if(c=Te(n.semver,o.semver,t),c>0)return null;if(c===0&&(n.operator!==">="||o.operator!=="<="))return null}for(const h of s){if(n&&!K(h,String(n),t)||o&&!K(h,String(o),t))return null;for(const p of e)if(!K(h,String(p),t))return!1;return!0}let u,i,a,l,E=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,m=n&&!t.includePrerelease&&n.semver.prerelease.length?n.semver:!1;E&&E.prerelease.length===1&&o.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(const h of e){if(l=l||h.operator===">"||h.operator===">=",a=a||h.operator==="<"||h.operator==="<=",n){if(m&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===m.major&&h.semver.minor===m.minor&&h.semver.patch===m.patch&&(m=!1),h.operator===">"||h.operator===">="){if(u=ot(n,h,t),u===h&&u!==n)return!1}else if(n.operator===">="&&!K(n.semver,String(h),t))return!1}if(o){if(E&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===E.major&&h.semver.minor===E.minor&&h.semver.patch===E.patch&&(E=!1),h.operator==="<"||h.operator==="<="){if(i=ct(o,h,t),i===h&&i!==o)return!1}else if(o.operator==="<="&&!K(o.semver,String(h),t))return!1}if(!h.operator&&(o||n)&&c!==0)return!1}return!(n&&a&&!o&&c!==0||o&&l&&!n&&c!==0||m||E)},ot=(r,e,t)=>{if(!r)return e;const s=Te(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},ct=(r,e,t)=>{if(!r)return e;const s=Te(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};var _s=Cs;const we=J,lt=ee,xs=_,ut=Ue,Gs=z,Fs=Bt,Us=Yt,Xs=Zt,Vs=Kt,Ms=tr,ks=nr,Hs=or,Bs=ur,Ws=V,qs=Er,Ys=dr,zs=me,Zs=Ir,Js=Sr,Ks=ne,Qs=de,en=Ye,tn=ze,rn=ge,sn=Re,nn=Ze,an=qr,on=oe(),cn=M(),ln=ce,un=Qr,hn=ss,fn=os,pn=us,En=ps,$n=Se,mn=Ls,dn=As,gn=ws,Rn=Ps,vn=_s;var In={parse:Gs,valid:Fs,clean:Us,inc:Xs,diff:Vs,major:Ms,minor:ks,patch:Hs,prerelease:Bs,compare:Ws,rcompare:qs,compareLoose:Ys,compareBuild:zs,sort:Zs,rsort:Js,gt:Ks,lt:Qs,eq:en,neq:tn,gte:rn,lte:sn,cmp:nn,coerce:an,Comparator:on,Range:cn,satisfies:ln,toComparators:un,maxSatisfying:hn,minSatisfying:fn,minVersion:pn,validRange:En,outside:$n,gtr:mn,ltr:dn,intersects:gn,simplifyRange:Rn,subset:vn,SemVer:xs,re:we.re,src:we.src,tokens:we.t,SEMVER_SPEC_VERSION:lt.SEMVER_SPEC_VERSION,RELEASE_TYPES:lt.RELEASE_TYPES,compareIdentifiers:ut.compareIdentifiers,rcompareIdentifiers:ut.rcompareIdentifiers};const q=pe(In),On=typeof process=="object"&&process&&process.platform==="win32";var Ln=On?{sep:"\\"}:{sep:"/"},Sn=ht;function ht(r,e,t){r instanceof RegExp&&(r=ft(r,t)),e instanceof RegExp&&(e=ft(e,t));var s=pt(r,e,t);return s&&{start:s[0],end:s[1],pre:t.slice(0,s[0]),body:t.slice(s[0]+r.length,s[1]),post:t.slice(s[1]+e.length)}}function ft(r,e){var t=e.match(r);return t?t[0]:null}ht.range=pt;function pt(r,e,t){var s,n,o,c,u,i=t.indexOf(r),a=t.indexOf(e,i+1),l=i;if(i>=0&&a>0){if(r===e)return[i,a];for(s=[],o=t.length;l>=0&&!u;)l==i?(s.push(l),i=t.indexOf(r,l+1)):s.length==1?u=[s.pop(),a]:(n=s.pop(),n<o&&(o=n,c=a),a=t.indexOf(e,l+1)),l=i<a&&i>=0?i:a;s.length&&(u=[o,c])}return u}var Et=Sn,Nn=wn,$t="\0SLASH"+Math.random()+"\0",mt="\0OPEN"+Math.random()+"\0",ye="\0CLOSE"+Math.random()+"\0",dt="\0COMMA"+Math.random()+"\0",gt="\0PERIOD"+Math.random()+"\0";function be(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function An(r){return r.split("\\\\").join($t).split("\\{").join(mt).split("\\}").join(ye).split("\\,").join(dt).split("\\.").join(gt)}function Tn(r){return r.split($t).join("\\").split(mt).join("{").split(ye).join("}").split(dt).join(",").split(gt).join(".")}function Rt(r){if(!r)return[""];var e=[],t=Et("{","}",r);if(!t)return r.split(",");var s=t.pre,n=t.body,o=t.post,c=s.split(",");c[c.length-1]+="{"+n+"}";var u=Rt(o);return o.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u)),e.push.apply(e,c),e}function wn(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Q(An(r),!0).map(Tn)):[]}function yn(r){return"{"+r+"}"}function bn(r){return/^-?0\d/.test(r)}function Pn(r,e){return r<=e}function Cn(r,e){return r>=e}function Q(r,e){var t=[],s=Et("{","}",r);if(!s)return[r];var n=s.pre,o=s.post.length?Q(s.post,!1):[""];if(/\$$/.test(s.pre))for(var c=0;c<o.length;c++){var u=n+"{"+s.body+"}"+o[c];t.push(u)}else{var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=i||a,E=s.body.indexOf(",")>=0;if(!l&&!E)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+ye+s.post,Q(r)):[r];var m;if(l)m=s.body.split(/\.\./);else if(m=Rt(s.body),m.length===1&&(m=Q(m[0],!1).map(yn),m.length===1))return o.map(function(B){return s.pre+m[0]+B});var h;if(l){var p=be(m[0]),w=be(m[1]),P=Math.max(m[0].length,m[1].length),D=m.length==3?Math.abs(be(m[2])):1,U=Pn,O=w<p;O&&(D*=-1,U=Cn);var b=m.some(bn);h=[];for(var x=p;U(x,w);x+=D){var j;if(a)j=String.fromCharCode(x),j==="\\"&&(j="");else if(j=String(x),b){var N=P-j.length;if(N>0){var S=new Array(N+1).join("0");x<0?j="-"+S+j.slice(1):j=S+j}}h.push(j)}}else{h=[];for(var A=0;A<m.length;A++)h.push.apply(h,Q(m[A],!1))}for(var A=0;A<h.length;A++)for(var c=0;c<o.length;c++){var u=n+h[A]+o[c];(!e||l||u)&&t.push(u)}}return t}const F=vt=(r,e,t={})=>(le(e),!t.nocomment&&e.charAt(0)==="#"?!1:new ue(e,t).match(r));var vt=F;const Pe=Ln;F.sep=Pe.sep;const k=Symbol("globstar **");F.GLOBSTAR=k;const jn=Nn,It={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Ce="[^/]",je=Ce+"*?",Dn="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_n="(?:(?!(?:\\/|^)\\.).)*?",Ot=r=>r.split("").reduce((e,t)=>(e[t]=!0,e),{}),Lt=Ot("().*{}+?[]^$\\!"),xn=Ot("[.("),St=/\/+/;F.filter=(r,e={})=>(t,s,n)=>F(t,r,e);const W=(r,e={})=>{const t={};return Object.keys(r).forEach(s=>t[s]=r[s]),Object.keys(e).forEach(s=>t[s]=e[s]),t};F.defaults=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return F;const e=F,t=(s,n,o)=>e(s,n,W(r,o));return t.Minimatch=class extends e.Minimatch{constructor(n,o){super(n,W(r,o))}},t.Minimatch.defaults=s=>e.defaults(W(r,s)).Minimatch,t.filter=(s,n)=>e.filter(s,W(r,n)),t.defaults=s=>e.defaults(W(r,s)),t.makeRe=(s,n)=>e.makeRe(s,W(r,n)),t.braceExpand=(s,n)=>e.braceExpand(s,W(r,n)),t.match=(s,n,o)=>e.match(s,n,W(r,o)),t},F.braceExpand=(r,e)=>Nt(r,e);const Nt=(r,e={})=>(le(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:jn(r)),Gn=1024*64,le=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Gn)throw new TypeError("pattern is too long")},De=Symbol("subparse");F.makeRe=(r,e)=>new ue(r,e||{}).makeRe(),F.match=(r,e,t={})=>{const s=new ue(e,t);return r=r.filter(n=>s.match(n)),s.options.nonull&&!r.length&&r.push(e),r};const Fn=r=>r.replace(/\\(.)/g,"$1"),Un=r=>r.replace(/\\([^-\]])/g,"$1"),Xn=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Vn=r=>r.replace(/[[\]\\]/g,"\\$&");class ue{constructor(e,t){le(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let s=this.globSet=this.braceExpand();t.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,s),s=this.globParts=s.map(n=>n.split(St)),this.debug(this.pattern,s),s=s.map((n,o,c)=>n.map(this.parse,this)),this.debug(this.pattern,s),s=s.filter(n=>n.indexOf(!1)===-1),this.debug(this.pattern,s),this.set=s}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,s=0;for(let n=0;n<e.length&&e.charAt(n)==="!";n++)t=!t,s++;s&&(this.pattern=e.slice(s)),this.negate=t}matchOne(e,t,s){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,c=0,u=e.length,i=t.length;o<u&&c<i;o++,c++){this.debug("matchOne loop");var a=t[c],l=e[o];if(this.debug(t,a,l),a===!1)return!1;if(a===k){this.debug("GLOBSTAR",[t,a,l]);var E=o,m=c+1;if(m===i){for(this.debug("** at the end");o<u;o++)if(e[o]==="."||e[o]===".."||!n.dot&&e[o].charAt(0)===".")return!1;return!0}for(;E<u;){var h=e[E];if(this.debug(`
globstar while`,e,E,t,m,h),this.matchOne(e.slice(E),t.slice(m),s))return this.debug("globstar found match!",E,u,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",e,E,t,m);break}this.debug("globstar swallow a segment, and continue"),E++}return!!(s&&(this.debug(`
>>> no match, partial?`,e,E,t,m),E===u))}var p;if(typeof a=="string"?(p=l===a,this.debug("string match",a,l,p)):(p=l.match(a),this.debug("pattern match",a,l,p)),!p)return!1}if(o===u&&c===i)return!0;if(o===u)return s;if(c===i)return o===u-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return Nt(this.pattern,this.options)}parse(e,t){le(e);const s=this.options;if(e==="**")if(s.noglobstar)e="*";else return k;if(e==="")return"";let n="",o=!1,c=!1;const u=[],i=[];let a,l=!1,E=-1,m=-1,h,p,w,P=e.charAt(0)===".",D=s.dot||P;const U=()=>P?"":D?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",O=N=>N.charAt(0)==="."?"":s.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=()=>{if(a){switch(a){case"*":n+=je,o=!0;break;case"?":n+=Ce,o=!0;break;default:n+="\\"+a;break}this.debug("clearStateChar %j %j",a,n),a=!1}};for(let N=0,S;N<e.length&&(S=e.charAt(N));N++){if(this.debug("%s	%s %s %j",e,N,n,S),c){if(S==="/")return!1;Lt[S]&&(n+="\\"),n+=S,c=!1;continue}switch(S){case"/":return!1;case"\\":if(l&&e.charAt(N+1)==="-"){n+=S;continue}b(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,N,n,S),l){this.debug("  in class"),S==="!"&&N===m+1&&(S="^"),n+=S;continue}this.debug("call clearStateChar %j",a),b(),a=S,s.noext&&b();continue;case"(":{if(l){n+="(";continue}if(!a){n+="\\(";continue}const A={type:a,start:N-1,reStart:n.length,open:It[a].open,close:It[a].close};this.debug(this.pattern,"	",A),u.push(A),n+=A.open,A.start===0&&A.type!=="!"&&(P=!0,n+=O(e.slice(N+1))),this.debug("plType %j %j",a,n),a=!1;continue}case")":{const A=u[u.length-1];if(l||!A){n+="\\)";continue}u.pop(),b(),o=!0,p=A,n+=p.close,p.type==="!"&&i.push(Object.assign(p,{reEnd:n.length}));continue}case"|":{const A=u[u.length-1];if(l||!A){n+="\\|";continue}b(),n+="|",A.start===0&&A.type!=="!"&&(P=!0,n+=O(e.slice(N+1)));continue}case"[":if(b(),l){n+="\\"+S;continue}l=!0,m=N,E=n.length,n+=S;continue;case"]":if(N===m+1||!l){n+="\\"+S;continue}h=e.substring(m+1,N);try{RegExp("["+Vn(Un(h))+"]"),n+=S}catch{n=n.substring(0,E)+"(?:$.)"}o=!0,l=!1;continue;default:b(),Lt[S]&&!(S==="^"&&l)&&(n+="\\"),n+=S;break}}for(l&&(h=e.slice(m+1),w=this.parse(h,De),n=n.substring(0,E)+"\\["+w[0],o=o||w[1]),p=u.pop();p;p=u.pop()){let N;N=n.slice(p.reStart+p.open.length),this.debug("setting tail",n,p),N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,(A,B,X)=>(X||(X="\\"),B+B+X+"|")),this.debug(`tail=%j
   %s`,N,N,p,n);const S=p.type==="*"?je:p.type==="?"?Ce:"\\"+p.type;o=!0,n=n.slice(0,p.reStart)+S+"\\("+N}b(),c&&(n+="\\\\");const x=xn[n.charAt(0)];for(let N=i.length-1;N>-1;N--){const S=i[N],A=n.slice(0,S.reStart),B=n.slice(S.reStart,S.reEnd-8);let X=n.slice(S.reEnd);const he=n.slice(S.reEnd-8,S.reEnd)+X,fe=A.split(")").length,$=A.split("(").length-fe;let f=X;for(let d=0;d<$;d++)f=f.replace(/\)[+*?]?/,"");X=f;const R=X===""&&t!==De?"(?:$|\\/)":"";n=A+B+X+R+he}if(n!==""&&o&&(n="(?=.)"+n),x&&(n=U()+n),t===De)return[n,o];if(s.nocase&&!o&&(o=e.toUpperCase()!==e.toLowerCase()),!o)return Fn(e);const j=s.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",j),{_glob:e,_src:n})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,s=t.noglobstar?je:t.dot?Dn:_n,n=t.nocase?"i":"";let o=e.map(c=>(c=c.map(u=>typeof u=="string"?Xn(u):u===k?k:u._src).reduce((u,i)=>(u[u.length-1]===k&&i===k||u.push(i),u),[]),c.forEach((u,i)=>{u!==k||c[i-1]===k||(i===0?c.length>1?c[i+1]="(?:\\/|"+s+"\\/)?"+c[i+1]:c[i]=s:i===c.length-1?c[i-1]+="(?:\\/|"+s+")?":(c[i-1]+="(?:\\/|\\/"+s+"\\/)"+c[i+1],c[i+1]=k))}),c.filter(u=>u!==k).join("/"))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch{this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;const s=this.options;Pe.sep!=="/"&&(e=e.split(Pe.sep).join("/")),e=e.split(St),this.debug(this.pattern,"split",e);const n=this.set;this.debug(this.pattern,"set",n);let o;for(let c=e.length-1;c>=0&&(o=e[c],!o);c--);for(let c=0;c<n.length;c++){const u=n[c];let i=e;if(s.matchBase&&u.length===1&&(i=[o]),this.matchOne(i,u,t))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(e){return F.defaults(e).Minimatch}}F.Minimatch=ue;const At=pe(vt);function _e(r){return Tt(r,{encoding:"utf8"}).trim()}function Mn(r,e,t){return e.length>0?e.some(s=>At(r,s)):t.length>0?!t.some(s=>At(r,s)):!0}function kn(r,e){const t=r.startsWith("v")?r.slice(1):r,s=e.startsWith("v")?e.slice(1):e,n=q.valid(t),o=q.valid(s);return n&&o?q.rcompare(t,s):n?-1:o?1:s.localeCompare(t)}async function Hn(r,e,t,s,n,o,c,u,i){const a=JSON.parse(_e(`doctl registry repository list-v2 ${r} -o json`)),l={};a.forEach(h=>{if(!Mn(h.name,o,c))return;const p=JSON.parse(_e(`doctl registry repository list-tags ${h.name} -o json`)).filter(O=>O.tag!=="latest").sort((O,b)=>kn(O.tag,b.tag)),w=new Set,P=p.filter(O=>{const b=O.tag.startsWith("v")?O.tag.slice(1):O.tag;if(q.valid(b)){const x=`${q.major(b)}.${q.minor(b)}.${q.patch(b)}`;if(w.size<t||w.has(x))return w.add(x),!0}return!1}),D=new Date,U=p.filter((O,b)=>{if(P.includes(O))return!1;const x=new Date(O.updated_at),j=(D.getTime()-x.getTime())/(1e3*3600*24);return b>=e&&j>s});U.length>0&&(l[h.name]=U.map(O=>O.tag))});const E={};let m=0;for(const[h,p]of Object.entries(l))E[h]=[],p.forEach(w=>{n?u(`[DRY RUN] Would delete tag: ${h}:${w}`):(u(`Deleting tag: ${h}:${w}`),i(`doctl registry repository delete-tag ${h} ${w} -f`)),E[h].push(w),m++});return u(n?"Dry run completed.":"Tag cleanup completed."),{tagsDeletedSummary:E,totalTagsDeleted:m}}export{pe as a,wt as c,yt as g,Hn as p,_e as r};
